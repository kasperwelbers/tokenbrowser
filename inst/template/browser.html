<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <style>
      $CSS$
    </style>
  </head>

  <body>

    <div class="container">

    <header>
      <a name="top"></a>
      <h1>$HEADER$</h1>
      <p>$N$</p>
    </header>

    <div class="navbar" id="navbar">
      <input type="text" id="searchField" onkeyup="searchFunction()" placeholder="<keyword>">
      <ul>
        $NAVIGATION$
      </ul>
    </div>

    <div class="articles">
      $CONTENT$
    </div>

    </div>
  </body>
</html>


<script>
function searchFunction() {
  // Declare variables
  var input, filter, elements, n;
  input = document.getElementById("searchField");
  filter = input.value.toUpperCase();
  elements = document.getElementsByTagName('article');

  n = 0;
  navs = [];
  for (var i = 0; i < elements.length; i++) {
      if (elements[i].textContent.toUpperCase().indexOf(filter) > -1)
        elements[i].setAttribute("insearch", "1");
      else
        elements[i].setAttribute("insearch", "0");

      if (elements[i].getAttribute('infilter') == "1" && elements[i].getAttribute('insearch') == "1") {
          n++;
          elements[i].style.display = 'block';
      }
      else {
          elements[i].style.display = 'none';
      }
  }

  document.getElementsByTagName('ndoc')[0].innerHTML = n;
}

function navSelect() {
  var input, filter, elements, n, checkboxes, hit, navstring, nofilter;
  elements = document.getElementsByTagName('article');
  checkboxes = document.getElementById('navbar').getElementsByClassName('navselect');

  nofilter = true;
  for (var j = 0; j < checkboxes.length; j++) if (checkboxes[j].checked) nofilter = false;

  n = 0;
  navs = [];
  for (var i = 0; i < elements.length; i++) {
      hit = false;
      navstring = elements[i].children[0].name;

      if (nofilter)
        hit = true;
      else {
        for (var j = 0; j < checkboxes.length; j++) {
          if (!checkboxes[j].checked) continue;
          if (navstring.indexOf(checkboxes[j].value) > -1) {
            hit = true;
            break;
          }
        }
      }

      if (hit)
        elements[i].setAttribute("infilter", "1");
      else
        elements[i].setAttribute("infilter", "0");

      if (elements[i].getAttribute('infilter') == "1" && elements[i].getAttribute('insearch') == "1") {
        n++;
        elements[i].style.display = 'block';
      }
      else {
        elements[i].style.display = 'none';
      }
  }

  document.getElementsByTagName('ndoc')[0].innerHTML = n;
}

</script>
